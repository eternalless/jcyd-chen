<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>希尔排序</title>
</head>
<body>
   <script>
     var CArray = function () {
       this.dataStore = [99,5,6,8,2,7,3,4,1,23,12,67,43,89]   //定义数组
       this.shellSort = shellSort  //希尔排序
       this.gaps = [5,3,1]  //希尔间隔
       this.dynamiSort = dynamiSort //动态的希尔排序
       this.swap = swap;      //数值交换位置
     }
     function shellSort() {
       for(var g = 0; g < this.gaps.length; ++g) {
         for(var i = this.gaps[g]; i < this.dataStore.length; ++i) {
           var temp = this.dataStore[i]
           for(var j = i; j>=this.gaps[g] && this.dataStore[j - this.gaps[g]] > temp; j-=this.gaps[g]) {
             this.dataStore[j] = this.dataStore[j - this.gaps[g]]
           }
           this.dataStore[j] = temp
         }
         console.log('调换后-》', this.dataStore)
       }
     }
     //动态的希尔排序
     function dynamiSort() {
       var N = this.dataStore.length
       var h = 1
       while(h < N/3) {
         h = h*3+1
       }
       while(h>=1) {
         for(var i = h; i < N; ++i) {
           for(var j = i; j>=h && this.dataStore[j] < this.dataStore[j - h] ; j-=h) {
             console.log(j)
             this.swap(this.dataStore, j,  j-h)
           }
         }
         console.log('调整后-》',this.dataStore)
         h = (h-1) / 3
       }
     }
     function swap(arr, index1, index2) {
       var temp = arr[index1]
       arr[index1] = arr[index2]
       arr[index2] = temp
     }
     var aa= new CArray()
     // aa.shellSort()
      aa.dynamiSort()
     console.log(aa.dataStore)
   </script>
</body>
</html>